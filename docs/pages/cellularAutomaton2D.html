<!DOCTYPE html>
<html>
  <head>
    <!-- ! custom meta tags -->
    <title>Cellular Automaton 2D</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Diego Inácio" />
    <meta
      property="og:url"
      content="https://diegoinacio.github.io/creative-coding-notebooks/pages/cellularAutomaton2D.html"
    />
    <meta
      name="title"
      property="og:title"
      content="Cellular Automaton 2D >> Creative Coding Notebooks | Diego Inácio"
    />
    <meta
      name="description"
      property="og:description"
      content="Implementation of an uni-dimensional cellular automata of binary values."
    />
    <meta
      name="image"
      property="og:image"
      content="https://diegoinacio.github.io/creative-coding-notebooks/images/thumb_cellularAutomaton2D.jpg"
    />
    <meta property="og:image:type" content="image/jpeg" />
    <meta property="og:type" content="article" />
    <meta property="article:author" content="Diego Inácio" />
    <meta property="article:section" content="Creative Coding Notebooks" />
    <!-- /! custom meta tags -->

    <!-- ! custom notebook style -->
    <link rel="stylesheet" href="../assets/css/notebook.css" />
    <!-- /! custom notebook style -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

    <!-- Custom stylesheet, it must be in the same directory as the html file -->
    <link rel="stylesheet" href="custom.css" />

    <!-- Loading mathjax macro -->
    <!-- Load mathjax -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
          tex2jax: {
              inlineMath: [ ['$','$'], ["\\(","\\)"] ],
              displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
              processEscapes: true,
              processEnvironments: true
          },
          // Center justify equations in code and markdown cells. Elsewhere
          // we use CSS to left justify single line equations in code cells.
          displayAlign: 'center',
          "HTML-CSS": {
              styles: {'.MathJax_Display': {"margin": 0}},
              linebreaks: { automatic: true }
          }
      });
    </script>
    <!-- End of mathjax configuration -->
  </head>
  <body>
    <!-- ! custom navbar -->
    <div class="notebook-navbar">
      <a href="http://diegoinacio.github.io/creative-coding-notebooks/">
        Return to <span>Creative Coding Notebooks</span>
      </a>
    </div>
    <!-- /! custom navbar -->
    <div tabindex="-1" id="notebook" class="border-box-sizing">
      <div class="container" id="notebook-container">
        <div class="cell border-box-sizing text_cell rendered">
          <div class="prompt input_prompt"></div>
          <div class="inner_cell">
            <div class="text_cell_render border-box-sizing rendered_html">
              <h1 id="Cellular-Automaton-2D">
                Cellular Automaton 2D<a
                  class="anchor-link"
                  href="#Cellular-Automaton-2D"
                  >¶</a
                >
              </h1>
              <hr />
              <ul>
                <li>Author: Diego Inácio</li>
                <li>
                  GitHub:
                  <a href="https://github.com/diegoinacio"
                    >github.com/diegoinacio</a
                  >
                </li>
                <li>
                  Notebook:
                  <a
                    href="https://github.com/diegoinacio/creative-coding-notebooks/blob/master/Simulation/cellularAutomaton2D.ipynb"
                    >cellularAutomaton2D.ipynb</a
                  >
                </li>
              </ul>
              <hr />
              <p>
                Implementation of an uni-dimensional cellular automata of binary
                values.
              </p>
              <p>
                <font color="#CC0000">[<b>PT-BR</b> content]</font>
              </p>
              <p>
                Implementação de um autômato celular bidimensional em valores
                binários.
              </p>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing code_cell rendered">
          <div class="input">
            <div class="prompt input_prompt">In&nbsp;[1]:</div>
            <div class="inner_cell">
              <div class="input_area">
                <div class="highlight hl-ipython3">
                  <pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.animation</span> <span class="k">as</span> <span class="nn">manim</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">imageio</span>
</pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing code_cell rendered">
          <div class="input">
            <div class="prompt input_prompt">In&nbsp;[2]:</div>
            <div class="inner_cell">
              <div class="input_area">
                <div class="highlight hl-ipython3">
                  <pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">'figure.figsize'</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">set_cmap</span><span class="p">(</span><span class="s1">'gray'</span><span class="p">)</span>
</pre>
                </div>
              </div>
            </div>
          </div>

          <div class="output_wrapper">
            <div class="output">
              <div class="output_area">
                <div class="prompt"></div>

                <div class="output_text output_subarea">
                  <pre>&lt;Figure size 1152x576 with 0 Axes&gt;</pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing text_cell rendered">
          <div class="prompt input_prompt"></div>
          <div class="inner_cell">
            <div class="text_cell_render border-box-sizing rendered_html">
              <h2 id="1.-Definição-da-lista-de-regra">
                1. Definição da lista de regra<a
                  class="anchor-link"
                  href="#1.-Definição-da-lista-de-regra"
                  >¶</a
                >
              </h2>
              <hr />
              <p>
                A função <strong><em>conjRegras</em></strong> resulta em uma
                lista de regras para definição de novos estados para as células
                centrais em gerações posteriores, com base em uma vizinhança
                definida por uma area ou kernel. Se uma célula tem
                <em>raio</em> igual a <strong>1</strong>, seu diâmetro será
                <strong>3</strong> e sua <em>area</em> igual a
                <strong>9</strong>. Para uma vizinhança de area
                <strong>9</strong> existem $2^9=512$ padrões possíveis e
                $2^{512}$ (valor com mais de 150 dígitos) possibilidades de
                regras.
              </p>
              <ul>
                <li>Autômato celular com regra <strong>35</strong></li>
              </ul>
              <table>
                <thead>
                  <tr>
                    <th>x</th>
                    <th>511</th>
                    <th>...</th>
                    <th>11</th>
                    <th>...</th>
                    <th>5</th>
                    <th>...</th>
                    <th>1</th>
                    <th>0</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><strong>estado atual</strong></td>
                    <td>111111111</td>
                    <td>...</td>
                    <td>000001011</td>
                    <td>...</td>
                    <td>000000101</td>
                    <td>...</td>
                    <td>000000001</td>
                    <td>000000000</td>
                  </tr>
                  <tr>
                    <td><strong>novo estado para células centrais</strong></td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                    <td>1</td>
                    <td>0</td>
                    <td>1</td>
                    <td>1</td>
                  </tr>
                </tbody>
              </table>
              <ul>
                <li>Autômato celular com regra <strong>2051</strong></li>
              </ul>
              <table>
                <thead>
                  <tr>
                    <th>x</th>
                    <th>511</th>
                    <th>...</th>
                    <th>11</th>
                    <th>...</th>
                    <th>5</th>
                    <th>...</th>
                    <th>1</th>
                    <th>0</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><strong>estado atual</strong></td>
                    <td>111111111</td>
                    <td>...</td>
                    <td>000001011</td>
                    <td>...</td>
                    <td>000000101</td>
                    <td>...</td>
                    <td>000000001</td>
                    <td>000000000</td>
                  </tr>
                  <tr>
                    <td><strong>novo estado para células centrais</strong></td>
                    <td>0</td>
                    <td>0</td>
                    <td>1</td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                    <td>1</td>
                    <td>1</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing code_cell rendered">
          <div class="input">
            <div class="prompt input_prompt">In&nbsp;[3]:</div>
            <div class="inner_cell">
              <div class="input_area">
                <div class="highlight hl-ipython3">
                  <pre><span></span><span class="k">def</span> <span class="nf">conjRegras</span><span class="p">(</span><span class="n">regra</span><span class="p">,</span> <span class="n">area</span><span class="p">):</span>
    <span class="n">tamanho</span> <span class="o">=</span> <span class="mi">2</span><span class="o">**</span><span class="n">area</span>
    <span class="n">bits</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="s1">'{0:0</span><span class="si">{1}</span><span class="s1">b}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">regra</span><span class="p">,</span> <span class="n">tamanho</span><span class="p">)[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">resultado</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">bits</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">resultado</span>
</pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing text_cell rendered">
          <div class="prompt input_prompt"></div>
          <div class="inner_cell">
            <div class="text_cell_render border-box-sizing rendered_html">
              <h2 id="2.-Tabela-de-regras">
                2. Tabela de regras<a
                  class="anchor-link"
                  href="#2.-Tabela-de-regras"
                  >¶</a
                >
              </h2>
              <hr />
              <p>
                A função <strong><em>conjRegras_tab</em></strong> define a
                tabela de regras para visualização.
              </p>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing code_cell rendered">
          <div class="input">
            <div class="prompt input_prompt">In&nbsp;[4]:</div>
            <div class="inner_cell">
              <div class="input_area">
                <div class="highlight hl-ipython3">
                  <pre><span></span><span class="k">def</span> <span class="nf">conjRegras_tab</span><span class="p">(</span><span class="n">regra</span><span class="p">,</span> <span class="n">area</span><span class="p">,</span> <span class="n">disp</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">)):</span>
    <span class="sd">'''</span>
<span class="sd">    Define a tabela do conjunto de regras</span>
<span class="sd">    '''</span>
    <span class="n">raio</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">area</span><span class="o">**</span><span class="mf">0.5</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">diametro</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">raio</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="n">s</span><span class="p">,</span> <span class="n">t</span> <span class="o">=</span> <span class="n">disp</span>
    <span class="n">S</span><span class="p">,</span> <span class="n">T</span> <span class="o">=</span> <span class="n">s</span><span class="o">*</span><span class="p">(</span><span class="n">diametro</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="n">t</span><span class="o">*</span><span class="p">(</span><span class="n">diametro</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">crt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="n">T</span><span class="p">,</span> <span class="n">S</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">*</span><span class="mf">0.25</span>
    <span class="n">crList</span> <span class="o">=</span> <span class="n">conjRegras</span><span class="p">(</span><span class="n">regra</span><span class="p">,</span> <span class="n">area</span><span class="p">)</span>
    <span class="n">total</span> <span class="o">=</span> <span class="mi">2</span><span class="o">**</span><span class="n">area</span>
    <span class="n">indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">total</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">s</span><span class="o">*</span><span class="n">t</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">indice</span> <span class="o">=</span> <span class="n">indices</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span><span class="o">*</span><span class="n">s</span><span class="p">]</span>
                <span class="n">bits</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="s1">'{0:0</span><span class="si">{1}</span><span class="s1">b}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">indice</span><span class="p">,</span> <span class="n">area</span><span class="p">))</span>
                <span class="n">bits</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">bits</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="n">diametro</span><span class="p">,</span> <span class="n">diametro</span><span class="p">))</span>
                <span class="n">iro</span> <span class="o">=</span> <span class="p">(</span><span class="n">diametro</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">i</span>
                <span class="n">iri</span> <span class="o">=</span> <span class="n">iro</span> <span class="o">+</span> <span class="n">diametro</span>
                <span class="n">jro</span> <span class="o">=</span> <span class="p">(</span><span class="n">diametro</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">j</span>
                <span class="n">jri</span> <span class="o">=</span> <span class="n">jro</span> <span class="o">+</span> <span class="n">diametro</span>
                <span class="n">crt</span><span class="p">[</span><span class="n">jro</span><span class="p">:</span><span class="n">jri</span><span class="p">,</span> <span class="n">iro</span><span class="p">:</span><span class="n">iri</span><span class="p">]</span> <span class="o">=</span> <span class="n">bits</span>
                <span class="n">crt</span><span class="p">[</span><span class="n">jri</span><span class="p">,</span> <span class="n">iro</span> <span class="o">+</span> <span class="n">raio</span><span class="p">]</span> <span class="o">=</span> <span class="n">crList</span><span class="p">[</span><span class="n">indice</span><span class="p">]</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>
    <span class="k">return</span> <span class="n">crt</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing text_cell rendered">
          <div class="prompt input_prompt"></div>
          <div class="inner_cell">
            <div class="text_cell_render border-box-sizing rendered_html">
              <h2 id="3.-Definição-do-autômato-celular">
                3. Definição do autômato celular<a
                  class="anchor-link"
                  href="#3.-Definição-do-autômato-celular"
                  >¶</a
                >
              </h2>
              <hr />
              <p>Gera autômato celular a partir da geração 0.</p>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing code_cell rendered">
          <div class="input">
            <div class="prompt input_prompt">In&nbsp;[5]:</div>
            <div class="inner_cell">
              <div class="input_area">
                <div class="highlight hl-ipython3">
                  <pre><span></span><span class="k">def</span> <span class="nf">automatoCelular</span><span class="p">(</span><span class="n">ger</span><span class="p">,</span> <span class="n">regra</span><span class="p">,</span> <span class="n">area</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    Gera autômato celular</span>
<span class="sd">    '''</span>
    <span class="n">t</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="n">ger</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">resultado</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">t</span><span class="p">,</span> <span class="n">s</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">raio</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">area</span><span class="o">**</span><span class="mf">0.5</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">diametro</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">raio</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="n">novoEstado</span> <span class="o">=</span> <span class="n">conjRegras</span><span class="p">(</span><span class="n">regra</span><span class="p">,</span> <span class="n">area</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">ndindex</span><span class="p">(</span><span class="n">ger</span><span class="o">.</span><span class="n">shape</span><span class="p">):</span>
        <span class="n">roll</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span> <span class="n">j</span> <span class="o">+</span> <span class="n">raio</span><span class="p">,</span> <span class="o">-</span> <span class="n">i</span> <span class="o">+</span> <span class="n">raio</span><span class="p">]</span>
        <span class="n">vizinhanca</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">roll</span><span class="p">(</span><span class="n">ger</span><span class="p">,</span> <span class="n">roll</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))[:</span><span class="n">diametro</span><span class="p">,</span> <span class="p">:</span><span class="n">diametro</span><span class="p">]</span>
        <span class="n">binario</span> <span class="o">=</span> <span class="s1">''</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">vizinhanca</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)))</span>
        <span class="n">indice</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">binario</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">resultado</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">novoEstado</span><span class="p">[</span><span class="n">indice</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">resultado</span>
</pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing text_cell rendered">
          <div class="prompt input_prompt"></div>
          <div class="inner_cell">
            <div class="text_cell_render border-box-sizing rendered_html">
              <h2 id="4.-Autômato">
                4. Autômato<a class="anchor-link" href="#4.-Autômato">¶</a>
              </h2>
              <hr />
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing code_cell rendered">
          <div class="input">
            <div class="prompt input_prompt">In&nbsp;[6]:</div>
            <div class="inner_cell">
              <div class="input_area">
                <div class="highlight hl-ipython3">
                  <pre><span></span><span class="o">%%time</span>
<span class="c1"># Parâmetros</span>
<span class="n">raio</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">area</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">raio</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
<span class="n">tamanho</span> <span class="o">=</span> <span class="mi">2</span><span class="o">**</span><span class="n">area</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="nb">ord</span><span class="p">(</span><span class="n">c</span><span class="p">),</span> <span class="s1">'automato celular'</span><span class="p">)))</span>
<span class="n">N</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">tamanho</span><span class="o">*</span><span class="mf">0.25</span><span class="p">)</span>
<span class="n">regra</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">N</span> <span class="o">+</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">tamanho</span> <span class="o">-</span> <span class="n">N</span><span class="p">))</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">regra</span><span class="p">)</span>
<span class="n">regra</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">regra</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
<span class="n">regra</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="s1">''</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">regra</span><span class="p">]),</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># Incialização da geração 0</span>
<span class="n">celulas</span> <span class="o">=</span> <span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span>
<span class="n">ger0</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">celulas</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.99</span>
</pre>
                </div>
              </div>
            </div>
          </div>

          <div class="output_wrapper">
            <div class="output">
              <div class="output_area">
                <div class="prompt"></div>

                <div
                  class="output_subarea output_stream output_stdout output_text"
                >
                  <pre>
Wall time: 1 ms
</pre
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing text_cell rendered">
          <div class="prompt input_prompt"></div>
          <div class="inner_cell">
            <div class="text_cell_render border-box-sizing rendered_html">
              <h2 id="5.-Visualização">
                5. Visualização<a class="anchor-link" href="#5.-Visualização"
                  >¶</a
                >
              </h2>
              <hr />
              <h3 id="5.1.-Visualização-do-autômato">
                5.1. Visualização do autômato<a
                  class="anchor-link"
                  href="#5.1.-Visualização-do-autômato"
                  >¶</a
                >
              </h3>
              <hr />
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing code_cell rendered">
          <div class="input">
            <div class="prompt input_prompt">In&nbsp;[7]:</div>
            <div class="inner_cell">
              <div class="input_area">
                <div class="highlight hl-ipython3">
                  <pre><span></span><span class="o">%%time</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">2048</span><span class="o">//</span><span class="mi">72</span><span class="p">,</span> <span class="mi">512</span><span class="o">//</span><span class="mi">72</span><span class="p">))</span>

<span class="n">ger1</span> <span class="o">=</span> <span class="n">ger0</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">animation</span><span class="p">(</span><span class="n">frame</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">cla</span><span class="p">()</span>
    <span class="n">gen</span> <span class="o">=</span> <span class="n">frame</span>
    <span class="n">imshow</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">ger1</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">'none'</span><span class="p">)</span>
    <span class="n">ger1</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">automatoCelular</span><span class="p">(</span><span class="n">ger1</span><span class="p">,</span> <span class="n">regra</span><span class="p">,</span> <span class="n">area</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">'Cellular Automaton 2D | generation </span><span class="si">{:04}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">gen</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">imshow</span>

<span class="n">anim</span> <span class="o">=</span> <span class="n">manim</span><span class="o">.</span><span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">animation</span><span class="p">,</span> <span class="n">frames</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="n">anim</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">'output/NLDC_cellularAutomaton2D_anim.gif'</span><span class="p">,</span> <span class="n">writer</span><span class="o">=</span><span class="s2">"imagemagick"</span><span class="p">,</span> <span class="n">extra_args</span><span class="o">=</span><span class="s2">"convert"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># Solve repetition problem</span>
<span class="err">!</span> <span class="n">magick</span> <span class="n">convert</span> <span class="n">_output</span><span class="o">/</span><span class="n">NLDC_cellularAutomaton2D_anim</span><span class="o">.</span><span class="n">gif</span> <span class="o">-</span><span class="n">loop</span> <span class="mi">0</span> <span class="n">_output</span><span class="o">/</span><span class="n">NLDC_cellularAutomaton2D_anim</span><span class="o">.</span><span class="n">gif</span>
<span class="err">!</span> <span class="n">echo</span> <span class="n">GIF</span> <span class="n">exported</span> <span class="ow">and</span> <span class="n">reconverted</span><span class="o">.</span> <span class="n">Disregard</span> <span class="n">the</span> <span class="n">message</span> <span class="n">above</span><span class="o">.</span>
</pre>
                </div>
              </div>
            </div>
          </div>

          <div class="output_wrapper">
            <div class="output">
              <div class="output_area">
                <div class="prompt"></div>

                <div
                  class="output_subarea output_stream output_stderr output_text"
                >
                  <pre>
MovieWriter imagemagick unavailable.
</pre
                  >
                </div>
              </div>

              <div class="output_area">
                <div class="prompt"></div>

                <div
                  class="output_subarea output_stream output_stdout output_text"
                >
                  <pre>
GIF exported and reconverted. Disregard the message above.
Wall time: 32.8 s
</pre
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing text_cell rendered">
          <div class="prompt input_prompt"></div>
          <div class="inner_cell">
            <div class="text_cell_render border-box-sizing rendered_html">
              <p>
                <img
                  src="output/NLDC_cellularAutomaton2D_anim.gif"
                  alt="cellular automaton 2D"
                  title="Cellular Automaton 2D"
                />
              </p>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing text_cell rendered">
          <div class="prompt input_prompt"></div>
          <div class="inner_cell">
            <div class="text_cell_render border-box-sizing rendered_html">
              <h3 id="5.2.-Visualização-da-tabela-de-regra">
                5.2. Visualização da tabela de regra<a
                  class="anchor-link"
                  href="#5.2.-Visualização-da-tabela-de-regra"
                  >¶</a
                >
              </h3>
              <hr />
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing code_cell rendered">
          <div class="input">
            <div class="prompt input_prompt">In&nbsp;[8]:</div>
            <div class="inner_cell">
              <div class="input_area">
                <div class="highlight hl-ipython3">
                  <pre><span></span><span class="n">crt</span> <span class="o">=</span> <span class="n">conjRegras_tab</span><span class="p">(</span><span class="n">regra</span><span class="p">,</span> <span class="n">area</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">crt</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">'none'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">'off'</span><span class="p">)</span>
<span class="n">titulo</span> <span class="o">=</span> <span class="s1">'rule = </span><span class="si">{}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">regra</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">titulo</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre>
                </div>
              </div>
            </div>
          </div>

          <div class="output_wrapper">
            <div class="output">
              <div class="output_area">
                <div class="prompt"></div>

                <div class="output_png output_subarea">
                  <img
                    src="data:image/png;base64,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
"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing text_cell rendered">
          <div class="prompt input_prompt"></div>
          <div class="inner_cell">
            <div class="text_cell_render border-box-sizing rendered_html">
              <h2 id="6.-Exemplos">
                6. Exemplos<a class="anchor-link" href="#6.-Exemplos">¶</a>
              </h2>
              <hr />
              <h3 id="6.1.-autômato-celular-A">
                6.1. autômato celular A<a
                  class="anchor-link"
                  href="#6.1.-autômato-celular-A"
                  >¶</a
                >
              </h3>
              <hr />
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing code_cell rendered">
          <div class="input">
            <div class="prompt input_prompt">In&nbsp;[9]:</div>
            <div class="inner_cell">
              <div class="input_area">
                <div class="highlight hl-ipython3">
                  <pre><span></span><span class="o">%%time</span>
<span class="c1"># Parâmetros</span>
<span class="n">raio</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">area</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">raio</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
<span class="n">tamanho</span> <span class="o">=</span> <span class="mi">2</span><span class="o">**</span><span class="n">area</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="nb">ord</span><span class="p">(</span><span class="n">c</span><span class="p">),</span> <span class="s1">'automato celular A 123'</span><span class="p">)))</span>
<span class="n">N</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">tamanho</span><span class="o">*</span><span class="mf">0.123</span><span class="p">)</span>
<span class="n">regra</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">N</span> <span class="o">+</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">tamanho</span> <span class="o">-</span> <span class="n">N</span><span class="p">))</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">regra</span><span class="p">)</span>
<span class="n">regra</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">regra</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
<span class="n">regra</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="s1">''</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">regra</span><span class="p">]),</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># Incialização da geração 0</span>
<span class="n">celulas</span> <span class="o">=</span> <span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span>
<span class="n">ger0</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">celulas</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.99</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">2048</span><span class="o">//</span><span class="mi">72</span><span class="p">,</span> <span class="mi">512</span><span class="o">//</span><span class="mi">72</span><span class="p">))</span>

<span class="n">ger1</span> <span class="o">=</span> <span class="n">ger0</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">animation</span><span class="p">(</span><span class="n">frame</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">cla</span><span class="p">()</span>
    <span class="n">gen</span> <span class="o">=</span> <span class="n">frame</span>
    <span class="n">imshow</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">ger1</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">'none'</span><span class="p">)</span>
    <span class="n">ger1</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">automatoCelular</span><span class="p">(</span><span class="n">ger1</span><span class="p">,</span> <span class="n">regra</span><span class="p">,</span> <span class="n">area</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">'Cellular Automaton 2D A | generation </span><span class="si">{:04}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">gen</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">imshow</span>

<span class="n">anim</span> <span class="o">=</span> <span class="n">manim</span><span class="o">.</span><span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">animation</span><span class="p">,</span> <span class="n">frames</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="n">anim</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">'output/NLDC_cellularAutomaton2D_animA.gif'</span><span class="p">,</span> <span class="n">writer</span><span class="o">=</span><span class="s2">"imagemagick"</span><span class="p">,</span> <span class="n">extra_args</span><span class="o">=</span><span class="s2">"convert"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># Solve repetition problem</span>
<span class="err">!</span> <span class="n">magick</span> <span class="n">convert</span> <span class="n">_output</span><span class="o">/</span><span class="n">NLDC_cellularAutomaton2D_animA</span><span class="o">.</span><span class="n">gif</span> <span class="o">-</span><span class="n">loop</span> <span class="mi">0</span> <span class="n">_output</span><span class="o">/</span><span class="n">NLDC_cellularAutomaton2D_animA</span><span class="o">.</span><span class="n">gif</span>
<span class="err">!</span> <span class="n">echo</span> <span class="n">GIF</span> <span class="n">exported</span> <span class="ow">and</span> <span class="n">reconverted</span><span class="o">.</span> <span class="n">Disregard</span> <span class="n">the</span> <span class="n">message</span> <span class="n">above</span><span class="o">.</span>
</pre>
                </div>
              </div>
            </div>
          </div>

          <div class="output_wrapper">
            <div class="output">
              <div class="output_area">
                <div class="prompt"></div>

                <div
                  class="output_subarea output_stream output_stderr output_text"
                >
                  <pre>
MovieWriter imagemagick unavailable.
</pre
                  >
                </div>
              </div>

              <div class="output_area">
                <div class="prompt"></div>

                <div
                  class="output_subarea output_stream output_stdout output_text"
                >
                  <pre>
GIF exported and reconverted. Disregard the message above.
Wall time: 31.7 s
</pre
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing text_cell rendered">
          <div class="prompt input_prompt"></div>
          <div class="inner_cell">
            <div class="text_cell_render border-box-sizing rendered_html">
              <p>
                <img
                  src="output/NLDC_cellularAutomaton2D_animA.gif"
                  alt="cellular automaton 2D A"
                  title="Cellular Automaton 2D A"
                />
              </p>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing text_cell rendered">
          <div class="prompt input_prompt"></div>
          <div class="inner_cell">
            <div class="text_cell_render border-box-sizing rendered_html">
              <h3 id="6.2.-autômato-celular-B">
                6.2. autômato celular B<a
                  class="anchor-link"
                  href="#6.2.-autômato-celular-B"
                  >¶</a
                >
              </h3>
              <hr />
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing code_cell rendered">
          <div class="input">
            <div class="prompt input_prompt">In&nbsp;[10]:</div>
            <div class="inner_cell">
              <div class="input_area">
                <div class="highlight hl-ipython3">
                  <pre><span></span><span class="o">%%time</span>
<span class="c1"># Parâmetros</span>
<span class="n">raio</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">area</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">raio</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
<span class="n">tamanho</span> <span class="o">=</span> <span class="mi">2</span><span class="o">**</span><span class="n">area</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="nb">ord</span><span class="p">(</span><span class="n">c</span><span class="p">),</span> <span class="s1">'automato celular B 234'</span><span class="p">)))</span>
<span class="n">N</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">tamanho</span><span class="o">*</span><span class="mf">0.234</span><span class="p">)</span>
<span class="n">regra</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">N</span> <span class="o">+</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">tamanho</span> <span class="o">-</span> <span class="n">N</span><span class="p">))</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">regra</span><span class="p">)</span>
<span class="n">regra</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">regra</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
<span class="n">regra</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="s1">''</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">regra</span><span class="p">]),</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># Incialização da geração 0</span>
<span class="n">celulas</span> <span class="o">=</span> <span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span>
<span class="n">ger0</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">celulas</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.99</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">2048</span><span class="o">//</span><span class="mi">72</span><span class="p">,</span> <span class="mi">512</span><span class="o">//</span><span class="mi">72</span><span class="p">))</span>

<span class="n">ger1</span> <span class="o">=</span> <span class="n">ger0</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">animation</span><span class="p">(</span><span class="n">frame</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">cla</span><span class="p">()</span>
    <span class="n">gen</span> <span class="o">=</span> <span class="n">frame</span>
    <span class="n">imshow</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">ger1</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">'none'</span><span class="p">)</span>
    <span class="n">ger1</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">automatoCelular</span><span class="p">(</span><span class="n">ger1</span><span class="p">,</span> <span class="n">regra</span><span class="p">,</span> <span class="n">area</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">'Cellular Automaton 2D B | generation </span><span class="si">{:04}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">gen</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">imshow</span>

<span class="n">anim</span> <span class="o">=</span> <span class="n">manim</span><span class="o">.</span><span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">animation</span><span class="p">,</span> <span class="n">frames</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="n">anim</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">'output/NLDC_cellularAutomaton2D_animB.gif'</span><span class="p">,</span> <span class="n">writer</span><span class="o">=</span><span class="s2">"imagemagick"</span><span class="p">,</span> <span class="n">extra_args</span><span class="o">=</span><span class="s2">"convert"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># Solve repetition problem</span>
<span class="err">!</span> <span class="n">magick</span> <span class="n">convert</span> <span class="n">_output</span><span class="o">/</span><span class="n">NLDC_cellularAutomaton2D_animB</span><span class="o">.</span><span class="n">gif</span> <span class="o">-</span><span class="n">loop</span> <span class="mi">0</span> <span class="n">_output</span><span class="o">/</span><span class="n">NLDC_cellularAutomaton2D_animB</span><span class="o">.</span><span class="n">gif</span>
<span class="err">!</span> <span class="n">echo</span> <span class="n">GIF</span> <span class="n">exported</span> <span class="ow">and</span> <span class="n">reconverted</span><span class="o">.</span> <span class="n">Disregard</span> <span class="n">the</span> <span class="n">message</span> <span class="n">above</span><span class="o">.</span>
</pre>
                </div>
              </div>
            </div>
          </div>

          <div class="output_wrapper">
            <div class="output">
              <div class="output_area">
                <div class="prompt"></div>

                <div
                  class="output_subarea output_stream output_stderr output_text"
                >
                  <pre>
MovieWriter imagemagick unavailable.
</pre
                  >
                </div>
              </div>

              <div class="output_area">
                <div class="prompt"></div>

                <div
                  class="output_subarea output_stream output_stdout output_text"
                >
                  <pre>
GIF exported and reconverted. Disregard the message above.
Wall time: 31.1 s
</pre
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing text_cell rendered">
          <div class="prompt input_prompt"></div>
          <div class="inner_cell">
            <div class="text_cell_render border-box-sizing rendered_html">
              <p>
                <img
                  src="output/NLDC_cellularAutomaton2D_animB.gif"
                  alt="cellular automaton 2D B"
                  title="Cellular Automaton 2D B"
                />
              </p>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing text_cell rendered">
          <div class="prompt input_prompt"></div>
          <div class="inner_cell">
            <div class="text_cell_render border-box-sizing rendered_html">
              <h3 id="6.3.-autômato-celular-C">
                6.3. autômato celular C<a
                  class="anchor-link"
                  href="#6.3.-autômato-celular-C"
                  >¶</a
                >
              </h3>
              <hr />
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing code_cell rendered">
          <div class="input">
            <div class="prompt input_prompt">In&nbsp;[11]:</div>
            <div class="inner_cell">
              <div class="input_area">
                <div class="highlight hl-ipython3">
                  <pre><span></span><span class="o">%%time</span>
<span class="c1"># Parâmetros</span>
<span class="n">raio</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">area</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">raio</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
<span class="n">tamanho</span> <span class="o">=</span> <span class="mi">2</span><span class="o">**</span><span class="n">area</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="nb">ord</span><span class="p">(</span><span class="n">c</span><span class="p">),</span> <span class="s1">'automato celular C 345'</span><span class="p">)))</span>
<span class="n">N</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">tamanho</span><span class="o">*</span><span class="mf">0.345</span><span class="p">)</span>
<span class="n">regra</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">N</span> <span class="o">+</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">tamanho</span> <span class="o">-</span> <span class="n">N</span><span class="p">))</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">regra</span><span class="p">)</span>
<span class="n">regra</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">regra</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
<span class="n">regra</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="s1">''</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">regra</span><span class="p">]),</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># Incialização da geração 0</span>
<span class="n">celulas</span> <span class="o">=</span> <span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span>
<span class="n">ger0</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">celulas</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.99</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">2048</span><span class="o">//</span><span class="mi">72</span><span class="p">,</span> <span class="mi">512</span><span class="o">//</span><span class="mi">72</span><span class="p">))</span>

<span class="n">ger1</span> <span class="o">=</span> <span class="n">ger0</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">animation</span><span class="p">(</span><span class="n">frame</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">cla</span><span class="p">()</span>
    <span class="n">gen</span> <span class="o">=</span> <span class="n">frame</span>
    <span class="n">imshow</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">ger1</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">'none'</span><span class="p">)</span>
    <span class="n">ger1</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">automatoCelular</span><span class="p">(</span><span class="n">ger1</span><span class="p">,</span> <span class="n">regra</span><span class="p">,</span> <span class="n">area</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">'Cellular Automaton 2D C | generation </span><span class="si">{:04}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">gen</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">imshow</span>

<span class="n">anim</span> <span class="o">=</span> <span class="n">manim</span><span class="o">.</span><span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">animation</span><span class="p">,</span> <span class="n">frames</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="n">anim</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">'output/NLDC_cellularAutomaton2D_animC.gif'</span><span class="p">,</span> <span class="n">writer</span><span class="o">=</span><span class="s2">"imagemagick"</span><span class="p">,</span> <span class="n">extra_args</span><span class="o">=</span><span class="s2">"convert"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># Solve repetition problem</span>
<span class="err">!</span> <span class="n">magick</span> <span class="n">convert</span> <span class="n">_output</span><span class="o">/</span><span class="n">NLDC_cellularAutomaton2D_animC</span><span class="o">.</span><span class="n">gif</span> <span class="o">-</span><span class="n">loop</span> <span class="mi">0</span> <span class="n">_output</span><span class="o">/</span><span class="n">NLDC_cellularAutomaton2D_animC</span><span class="o">.</span><span class="n">gif</span>
<span class="err">!</span> <span class="n">echo</span> <span class="n">GIF</span> <span class="n">exported</span> <span class="ow">and</span> <span class="n">reconverted</span><span class="o">.</span> <span class="n">Disregard</span> <span class="n">the</span> <span class="n">message</span> <span class="n">above</span><span class="o">.</span>
</pre>
                </div>
              </div>
            </div>
          </div>

          <div class="output_wrapper">
            <div class="output">
              <div class="output_area">
                <div class="prompt"></div>

                <div
                  class="output_subarea output_stream output_stderr output_text"
                >
                  <pre>
MovieWriter imagemagick unavailable.
</pre
                  >
                </div>
              </div>

              <div class="output_area">
                <div class="prompt"></div>

                <div
                  class="output_subarea output_stream output_stdout output_text"
                >
                  <pre>
GIF exported and reconverted. Disregard the message above.
Wall time: 31.3 s
</pre
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing text_cell rendered">
          <div class="prompt input_prompt"></div>
          <div class="inner_cell">
            <div class="text_cell_render border-box-sizing rendered_html">
              <p>
                <img
                  src="output/NLDC_cellularAutomaton2D_animC.gif"
                  alt="cellular automaton 2D C"
                  title="Cellular Automaton 2D C"
                />
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
